<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<title>Verona ÙÙŠØ±ÙˆÙ†Ø§ - ØªØ³ÙˆÙ‚ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† ÙÙŠ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* Ù†ÙØ³ CSS Ø§Ù„Ø£ØµÙ„ÙŠ Ø¯ÙˆÙ† Ø£ÙŠ ØªØºÙŠÙŠØ± */
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
body {
font-family: 'Cairo', sans-serif;
background-color: #f8f9fa;
color: #333;
line-height: 1.6;
overflow-x: hidden;
display: flex;
flex-direction: column;
min-height: 100vh;
}
.container {
width: 100%;
max-width: 1200px;
margin: 0 auto;
padding: 0 15px;
}
.main-content {
display: flex;
flex: 1;
margin-top: 20px;
}
.categories-sidebar {
width: 250px;
background-color: white;
border-radius: 10px;
box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
padding: 20px;
margin-left: 20px;
height: fit-content;
position: sticky;
top: 100px;
}
.categories-sidebar h3 {
color: #2e7d32;
margin-bottom: 20px;
padding-bottom: 10px;
border-bottom: 2px solid #2e7d32;
font-size: 1.3rem;
text-align: center;
}
.category-sidebar-list {
display: flex;
flex-direction: column;
gap: 10px;
}
.category-sidebar-item {
display: flex;
align-items: center;
padding: 12px 15px;
background-color: #f8f9fa;
border-radius: 8px;
border: 1px solid #e9ecef;
cursor: pointer;
transition: all 0.3s ease;
text-decoration: none;
color: #333;
}
.category-sidebar-item:hover {
background-color: #2e7d32;
color: white;
transform: translateX(-5px);
box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
}
.category-sidebar-item.active {
background-color: #2e7d32;
color: white;
border-color: #2e7d32;
}
.category-icon {
width: 30px;
height: 30px;
border-radius: 50%;
background-color: #e8f5e9;
display: flex;
align-items: center;
justify-content: center;
margin-left: 10px;
color: #2e7d32;
font-size: 1rem;
}
.category-sidebar-item:hover .category-icon {
background-color: white;
color: #2e7d32;
}
.category-sidebar-item.active .category-icon {
background-color: white;
color: #2e7d32;
}
.category-name {
flex: 1;
font-weight: 600;
font-size: 0.95rem;
}
.category-count {
background-color: #e8f5e9;
color: #2e7d32;
border-radius: 12px;
padding: 2px 10px;
font-size: 0.8rem;
font-weight: 600;
}
.category-sidebar-item:hover .category-count {
background-color: white;
color: #2e7d32;
}
.category-sidebar-item.active .category-count {
background-color: white;
color: #2e7d32;
}
.content-wrapper {
flex: 1;
}
.navbar {
background-color: #fff;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
position: sticky;
top: 0;
z-index: 1000;
padding: 10px 0;
}
.nav-container {
display: flex;
justify-content: space-between;
align-items: center;
padding: 0 15px;
flex-wrap: wrap;
}
.logo {
display: flex;
align-items: center;
text-decoration: none;
color: #2e7d32;
font-size: 1.5rem;
font-weight: 700;
flex-shrink: 0;
}
.logo i {
margin-left: 10px;
font-size: 1.8rem;
}
.logo-text {
display: flex;
flex-direction: column;
line-height: 1.2;
}
.logo-arabic {
font-size: 1.5rem;
font-weight: 700;
}
.logo-english {
font-size: 1rem;
font-weight: 600;
color: #555;
}
.search-box {
display: flex;
flex: 1;
max-width: 500px;
margin: 10px 0;
order: 3;
width: 100%;
}
.search-box input {
flex: 1;
padding: 12px 15px;
border: 1px solid #ddd;
border-radius: 5px 0 0 5px;
font-family: 'Cairo', sans-serif;
font-size: 1rem;
min-height: 46px;
}
.search-box button {
background-color: #2e7d32;
color: white;
border: none;
padding: 0 20px;
border-radius: 0 5px 5px 0;
cursor: pointer;
min-width: 60px;
display: flex;
align-items: center;
justify-content: center;
}
.nav-links {
display: flex;
align-items: center;
order: 2;
flex: 1;
justify-content: flex-end;
}
.nav-link {
text-decoration: none;
color: #333;
margin-right: 15px;
font-weight: 500;
display: flex;
align-items: center;
position: relative;
padding: 8px 5px;
font-size: 0.9rem;
}
.nav-link.active {
color: #2e7d32;
}
.nav-link i {
margin-left: 5px;
}
.cart-count {
background-color: #2e7d32;
color: white;
border-radius: 50%;
width: 20px;
height: 20px;
display: flex;
align-items: center;
justify-content: center;
font-size: 0.8rem;
position: absolute;
top: -5px;
right: -5px;
}
.menu-toggle {
display: none;
background: none;
border: none;
font-size: 1.5rem;
cursor: pointer;
color: #2e7d32;
margin-right: 10px;
}
.hero {
background: linear-gradient(to left, #2e7d32, #4caf50);
color: white;
padding: 40px 0;
}
.hero .container {
display: flex;
align-items: center;
justify-content: space-between;
flex-wrap: wrap;
}
.hero-content {
flex: 1;
min-width: 100%;
text-align: center;
margin-bottom: 30px;
}
.hero h1 {
font-size: 2rem;
margin-bottom: 15px;
line-height: 1.3;
}
.hero p {
font-size: 1.1rem;
margin-bottom: 25px;
max-width: 100%;
padding: 0 10px;
}
.btn-primary {
background-color: #fff;
color: #2e7d32;
padding: 14px 30px;
border-radius: 5px;
text-decoration: none;
font-weight: 700;
display: inline-block;
border: none;
cursor: pointer;
font-family: 'Cairo', sans-serif;
font-size: 1rem;
transition: all 0.3s;
min-height: 48px;
line-height: 20px;
}
.btn-primary:hover {
background-color: #f1f1f1;
transform: translateY(-2px);
}
.hero-image {
flex: 1;
min-width: 100%;
position: relative;
}
.hero-image img {
width: 100%;
height: auto;
border-radius: 10px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
object-fit: cover;
max-height: 300px;
}
.sale-badge {
position: absolute;
top: 15px;
right: 15px;
background-color: #ff5722;
color: white;
padding: 8px 15px;
border-radius: 5px;
font-weight: 700;
font-size: 1rem;
box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}
.section-title {
text-align: center;
margin: 30px 0;
font-size: 1.8rem;
color: #2e7d32;
padding: 0 15px;
}
.products-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
gap: 20px;
margin-bottom: 30px;
}
.product-card {
background-color: white;
border-radius: 10px;
overflow: hidden;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
transition: all 0.3s;
cursor: pointer;
}
.product-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
}
.product-image {
height: 200px;
overflow: hidden;
}
.product-image img {
width: 100%;
height: 100%;
object-fit: cover;
}
.product-info {
padding: 20px;
}
.product-info h3 {
margin-bottom: 10px;
font-size: 1.2rem;
line-height: 1.4;
}
.product-description {
font-size: 0.95rem;
color: #666;
margin-bottom: 15px;
line-height: 1.5;
height: 60px;
overflow: hidden;
}
.product-price {
color: #2e7d32;
font-weight: 700;
font-size: 1.3rem;
margin: 15px 0;
}
.product-old-price {
color: #888;
text-decoration: line-through;
margin-left: 8px;
font-size: 1rem;
}
.product-buttons {
display: flex;
flex-direction: column;
gap: 10px;
margin-top: 15px;
}
.buy-now {
background: linear-gradient(to left, #ff5722, #ff7043);
color: white;
border: none;
padding: 12px 15px;
border-radius: 8px;
cursor: pointer;
font-family: 'Cairo', sans-serif;
font-weight: 700;
transition: all 0.3s;
box-shadow: 0 4px 12px rgba(255, 87, 34, 0.2);
display: flex;
align-items: center;
justify-content: center;
gap: 8px;
font-size: 1rem;
order: 1;
min-height: 44px;
}
.buy-now:hover {
background: linear-gradient(to left, #e64a19, #f4511e);
transform: translateY(-2px);
box-shadow: 0 6px 16px rgba(255, 87, 34, 0.4);
}
.add-to-cart {
background-color: #2e7d32;
color: white;
border: none;
padding: 12px 15px;
border-radius: 8px;
cursor: pointer;
font-family: 'Cairo', sans-serif;
font-weight: 700;
transition: all 0.3s;
display: flex;
align-items: center;
justify-content: center;
gap: 8px;
font-size: 1rem;
order: 2;
min-height: 44px;
}
.add-to-cart:hover {
background-color: #1b5e20;
transform: translateY(-2px);
box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
}
.features {
background-color: #f1f8e9;
padding: 40px 0;
margin-top: 40px;
}
.features-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 25px;
}
.feature {
text-align: center;
padding: 15px;
}
.feature i {
font-size: 2.2rem;
color: #2e7d32;
margin-bottom: 12px;
}
.feature h3 {
margin-bottom: 8px;
font-size: 1.2rem;
}
.footer {
background-color: #2e7d32;
color: white;
padding: 40px 0 20px;
margin-top: 40px;
}
.footer-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 25px;
margin-bottom: 25px;
}
.footer-col h3 {
margin-bottom: 15px;
font-size: 1.2rem;
border-bottom: 2px solid rgba(255, 255, 255, 0.3);
padding-bottom: 8px;
}
.footer-col ul {
list-style: none;
}
.footer-col ul li {
margin-bottom: 8px;
}
.footer-col ul li a {
color: #e8f5e9;
text-decoration: none;
transition: color 0.3s;
font-size: 0.95rem;
}
.footer-col ul li a:hover {
color: white;
}
.contact-info li {
display: flex;
align-items: center;
margin-bottom: 12px;
font-size: 0.95rem;
}
.contact-info i {
margin-left: 10px;
color: #e8f5e9;
}
.social-links {
display: flex;
margin-top: 15px;
}
.social-links a {
display: inline-flex;
align-items: center;
justify-content: center;
width: 38px;
height: 38px;
background-color: rgba(255, 255, 255, 0.2);
border-radius: 50%;
margin-left: 10px;
color: white;
text-decoration: none;
transition: all 0.3s;
}
.social-links a:hover {
background-color: white;
color: #2e7d32;
}
.payment-methods {
display: flex;
align-items: center;
flex-wrap: wrap;
}
.payment-methods i, .payment-methods span {
font-size: 1.8rem;
margin-left: 10px;
margin-bottom: 10px;
color: white;
}
.footer-bottom {
text-align: center;
padding-top: 15px;
border-top: 1px solid rgba(255, 255, 255, 0.3);
font-size: 0.85rem;
color: #e8f5e9;
}
.cart-sidebar {
position: fixed;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background-color: white;
box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
z-index: 2000;
transition: left 0.3s;
display: flex;
flex-direction: column;
}
.cart-sidebar.active {
left: 0;
}
.cart-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 20px;
border-bottom: 1px solid #eee;
background-color: #f8f9fa;
}
.close-cart {
background: none;
border: none;
font-size: 2rem;
cursor: pointer;
color: #888;
}
.cart-items {
flex: 1;
overflow-y: auto;
padding: 15px;
}
.cart-item {
display: flex;
margin-bottom: 15px;
padding-bottom: 15px;
border-bottom: 1px solid #eee;
}
.cart-item-image {
width: 70px;
height: 70px;
margin-left: 12px;
border-radius: 5px;
overflow: hidden;
flex-shrink: 0;
}
.cart-item-image img {
width: 100%;
height: 100%;
object-fit: cover;
}
.cart-item-details {
flex: 1;
}
.cart-item-details h4 {
margin-bottom: 5px;
font-size: 1rem;
}
.cart-item-price {
color: #2e7d32;
font-weight: 700;
}
.cart-item-quantity {
display: flex;
align-items: center;
margin-top: 8px;
}
.cart-item-quantity button {
background-color: #f1f1f1;
border: none;
width: 28px;
height: 28px;
border-radius: 50%;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
font-size: 1.2rem;
}
.cart-item-quantity span {
margin: 0 10px;
font-weight: 600;
}
.remove-item {
background: none;
border: none;
color: #ff5722;
cursor: pointer;
margin-top: 8px;
font-size: 0.9rem;
}
.cart-total {
padding: 20px;
border-top: 1px solid #eee;
text-align: center;
background-color: #f8f9fa;
}
.cart-total p {
font-size: 1.2rem;
margin-bottom: 20px;
}
.checkout-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.7);
z-index: 3000;
display: flex;
align-items: center;
justify-content: center;
padding: 15px;
}
.checkout-content {
background-color: white;
padding: 20px;
border-radius: 10px;
width: 100%;
max-width: 500px;
max-height: 90vh;
overflow-y: auto;
position: relative;
}
.checkout-content h2 {
color: #2e7d32;
margin-bottom: 20px;
text-align: center;
font-size: 1.5rem;
}
.checkout-product {
background-color: #f9f9f9;
padding: 15px;
border-radius: 5px;
margin-bottom: 15px;
}
.form-group {
margin-bottom: 15px;
}
.form-group label {
display: block;
margin-bottom: 5px;
font-weight: bold;
}
.form-group input,
.form-group textarea,
.form-group select {
width: 100%;
padding: 12px;
border: 1px solid #ddd;
border-radius: 5px;
font-family: 'Cairo', sans-serif;
font-size: 1rem;
}
.checkout-buttons {
display: flex;
gap: 10px;
margin-top: 20px;
}
@media (min-width: 769px) {
.checkout-buttons {
flex-direction: row-reverse;
}
}
@media (max-width: 768px) {
.checkout-buttons {
flex-direction: column;
}
.btn-confirm {
order: 1;
}
.btn-cancel {
order: 2;
}
}
.btn-cancel {
background-color: #f44336;
color: white;
border: none;
padding: 14px 20px;
border-radius: 5px;
cursor: pointer;
flex: 1;
font-family: 'Cairo', sans-serif;
font-weight: 600;
transition: all 0.3s;
min-height: 48px;
order: 2;
}
.btn-cancel:hover {
background-color: #d32f2f;
}
.btn-confirm {
background-color: #2e7d32;
color: white;
border: none;
padding: 14px 20px;
border-radius: 5px;
cursor: pointer;
flex: 1;
font-family: 'Cairo', sans-serif;
font-weight: 600;
transition: all 0.3s;
min-height: 48px;
order: 1;
}
.btn-confirm:hover {
background-color: #1b5e20;
}
.delivery-cost {
background-color: #e8f5e9;
padding: 10px;
border-radius: 5px;
margin: 10px 0;
text-align: center;
font-weight: bold;
color: #2e7d32;
font-size: 0.9rem;
}
.product-detail-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.7);
z-index: 3000;
display: flex;
align-items: center;
justify-content: center;
padding: 15px;
}
.product-detail-content {
background-color: white;
padding: 20px;
border-radius: 10px;
width: 100%;
max-width: 800px;
max-height: 90vh;
overflow-y: auto;
position: relative;
}
.product-detail-content h2 {
color: #2e7d32;
margin-bottom: 20px;
text-align: center;
font-size: 1.5rem;
}
.product-detail-grid {
display: grid;
grid-template-columns: 1fr;
gap: 20px;
}
.product-detail-image {
border-radius: 10px;
overflow: hidden;
max-height: 300px;
}
.product-detail-image img {
width: 100%;
height: 100%;
object-fit: cover;
}
.product-detail-info {
display: flex;
flex-direction: column;
}
.product-detail-price {
font-size: 1.6rem;
color: #2e7d32;
font-weight: 700;
margin: 15px 0;
}
.product-detail-old-price {
font-size: 1.1rem;
color: #888;
text-decoration: line-through;
margin-right: 10px;
}
.product-detail-description {
margin: 15px 0;
line-height: 1.6;
}
.product-detail-buttons {
display: flex;
flex-direction: column;
gap: 12px;
margin-top: 20px;
}
.notification {
position: fixed;
top: 15px;
left: 50%;
transform: translateX(-50%);
background-color: #2e7d32;
color: white;
padding: 15px 20px;
border-radius: 5px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
z-index: 3000;
animation: fadeInOut 3s ease-in-out;
max-width: 90%;
text-align: center;
font-size: 0.95rem;
}
.success-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.7);
z-index: 3000;
display: flex;
align-items: center;
justify-content: center;
padding: 15px;
}
.success-content {
background-color: white;
padding: 30px;
border-radius: 10px;
width: 100%;
max-width: 400px;
text-align: center;
position: relative;
animation: slideIn 0.3s ease-out;
}
.success-icon {
font-size: 4rem;
color: #2e7d32;
margin-bottom: 20px;
}
.success-title {
color: #2e7d32;
margin-bottom: 15px;
font-size: 1.5rem;
}
.success-message {
margin-bottom: 20px;
line-height: 1.6;
color: #555;
}
.success-close {
background-color: #2e7d32;
color: white;
border: none;
padding: 12px 25px;
border-radius: 5px;
cursor: pointer;
font-family: 'Cairo', sans-serif;
font-weight: 600;
transition: all 0.3s;
min-height: 44px;
margin-top: 10px;
}
.success-close:hover {
background-color: #1b5e20;
}
@keyframes slideIn {
from {
opacity: 0;
transform: translateY(-20px);
}
to {
opacity: 1;
transform: translateY(0);
}
}
@keyframes fadeInOut {
0% { opacity: 0; top: 0; }
10% { opacity: 1; top: 15px; }
90% { opacity: 1; top: 15px; }
100% { opacity: 0; top: 0; }
}
@media (max-width: 768px) {
.main-content {
flex-direction: column;
}
.categories-sidebar {
width: 100%;
margin: 0 0 30px 0;
position: static;
order: 2;
}
.content-wrapper {
order: 1;
}
.products-grid {
grid-template-columns: repeat(2, 1fr);
gap: 15px;
}
.product-image {
height: 150px;
}
.product-info {
padding: 15px;
}
.product-info h3 {
font-size: 1.1rem;
}
.product-description {
font-size: 0.9rem;
height: 54px;
}
.product-price {
font-size: 1.2rem;
}
.btn-primary, .add-to-cart, .buy-now, .btn-cancel, .btn-confirm {
padding: 12px 15px;
font-size: 0.95rem;
}
.hero h1 {
font-size: 1.8rem;
}
.hero p {
font-size: 1rem;
}
.section-title {
font-size: 1.6rem;
}
}
@media (max-width: 992px) {
.nav-links {
display: none;
position: fixed;
top: 70px;
right: 0;
background-color: white;
width: 100%;
flex-direction: column;
box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
padding: 20px;
z-index: 1001;
max-height: calc(100vh - 70px);
overflow-y: auto;
}
.nav-links.active {
display: flex;
}
.nav-link {
margin: 10px 0;
padding: 12px 15px;
width: 100%;
justify-content: flex-start;
border-bottom: 1px solid #f1f1f1;
font-size: 1rem;
}
.menu-toggle {
display: block;
}
.search-box {
order: 3;
margin-top: 10px;
max-width: 100%;
}
.product-detail-grid {
grid-template-columns: 1fr;
}
}
@media (min-width: 769px) and (max-width: 992px) {
.products-grid {
grid-template-columns: repeat(2, 1fr);
}
.hero h1 {
font-size: 2.2rem;
}
.hero p {
font-size: 1.2rem;
}
.categories-sidebar {
width: 200px;
}
}
@media (min-width: 993px) {
.search-box {
margin: 0 20px;
order: 2;
max-width: 500px;
}
.nav-links {
order: 3;
flex: none;
}
.menu-toggle {
display: none;
}
.nav-link {
margin-right: 20px;
padding: 8px 0;
font-size: 1rem;
}
.hero-content {
min-width: 300px;
text-align: right;
margin-bottom: 0;
}
.hero-image {
min-width: 300px;
}
.hero h1 {
font-size: 2.5rem;
}
.hero p {
font-size: 1.2rem;
padding: 0;
}
.product-description {
height: auto;
}
.cart-sidebar {
width: 350px;
left: -400px;
}
.product-detail-grid {
grid-template-columns: 1fr 1fr;
}
}
@media (max-width: 768px) {
.hero .container {
flex-direction: column;
}
.hero-content, .hero-image {
text-align: center;
margin-bottom: 30px;
}
.logo-text {
font-size: 0.9rem;
}
.logo-arabic {
font-size: 1.3rem;
}
.logo-english {
font-size: 0.9rem;
}
.sale-badge {
top: 10px;
right: 10px;
padding: 8px 15px;
font-size: 1rem;
}
.checkout-content {
padding: 20px;
max-height: 90vh;
}
.product-detail-content {
padding: 20px;
max-height: 90vh;
}
button, .btn-primary, .add-to-cart, .buy-now, .nav-link {
min-height: 44px;
display: flex;
align-items: center;
justify-content: center;
}
input, textarea, select {
font-size: 16px !important;
}
}
html {
scroll-behavior: smooth;
}
.product-card, .category-sidebar-item, button, .btn-primary {
-webkit-tap-highlight-color: transparent;
}
img {
max-width: 100%;
height: auto;
}
.quantity-section {
margin: 20px 0;
text-align: center;
}
.quantity-label {
display: block;
font-size: 1.1rem;
font-weight: 600;
color: #333;
margin-bottom: 10px;
}
.quantity-controls {
display: flex;
align-items: center;
justify-content: center;
gap: 10px;
}
.quantity-btn {
width: 44px;
height: 44px;
background-color: #e8f5e9;
border: 2px solid #2e7d32;
border-radius: 8px;
cursor: pointer;
font-size: 1.4rem;
color: #2e7d32;
font-weight: bold;
transition: all 0.25s ease;
box-shadow: 0 2px 6px rgba(46, 125, 50, 0.15);
display: flex;
align-items: center;
justify-content: center;
}
.quantity-btn:hover {
background-color: #2e7d32;
color: white;
transform: translateY(-2px);
box-shadow: 0 4px 10px rgba(46, 125, 50, 0.3);
}
.quantity-btn:active {
transform: translateY(0);
}
#detail-quantity-input {
width: 60px;
height: 44px;
text-align: center;
font-size: 1.1rem;
font-weight: 600;
border: 2px solid #2e7d32;
border-radius: 8px;
padding: 0;
color: #333;
background-color: white;
}
.size-selection {
margin: 15px 0;
}
.size-selection h4 {
margin-bottom: 10px;
font-size: 1rem;
color: #333;
}
.size-options {
display: flex;
flex-wrap: wrap;
gap: 8px;
margin-top: 10px;
}
.size-option {
min-width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
border: 2px solid #ddd;
border-radius: 5px;
cursor: pointer;
font-weight: 600;
transition: all 0.3s;
background-color: white;
padding: 0 10px;
}
.size-option:hover {
border-color: #2e7d32;
color: #2e7d32;
}
.size-option.selected {
background-color: #2e7d32;
color: white;
border-color: #2e7d32;
}
@media (max-width: 768px) {
.quantity-controls {
margin: 8px 0 12px 0;
}
.quantity-btn {
width: 36px;
height: 36px;
font-size: 1.2rem;
}
#detail-quantity-input {
width: 50px;
height: 36px;
font-size: 1rem;
}
.size-option {
min-width: 36px;
height: 36px;
font-size: 0.9rem;
padding: 0 8px;
}
}
/* Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© ÙˆØ§Ù„ØµØºÙŠØ±Ø© */
@media (max-width: 1200px) {
.categories-sidebar {
position: static;
margin-bottom: 30px;
}
}
/* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
@media (max-width: 480px) {
.categories-sidebar {
padding: 15px;
}
.category-sidebar-item {
padding: 10px 12px;
}
.category-icon {
width: 25px;
height: 25px;
font-size: 0.9rem;
}
.category-name {
font-size: 0.85rem;
}
.category-count {
font-size: 0.7rem;
padding: 2px 8px;
}
}
</style>
</head>
<body>
<!-- Ù†ÙØ³ Ù‡ÙŠÙƒÙ„ HTML Ø§Ù„Ø£ØµÙ„ÙŠ -->
<nav class="navbar">
<div class="container nav-container">
<button class="menu-toggle">
<i class="fas fa-bars"></i>
</button>
<a href="#home" class="logo" id="main-logo">
<i class="fas fa-store-alt"></i>
<div class="logo-text">
<span class="logo-arabic">ÙÙŠØ±ÙˆÙ†Ø§</span>
<span class="logo-english">Verona</span>
</div>
</a>
<div class="nav-links">
<a href="#home" class="nav-link active"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
<a href="#products" class="nav-link"><i class="fas fa-box"></i> Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
<a href="#cart" class="nav-link cart-link">
<i class="fas fa-shopping-cart"></i> Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
<span class="cart-count">0</span>
</a>
<a href="#login" class="nav-link"><i class="fas fa-user"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
</div>
<div class="search-box">
<input type="text" id="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
<button id="search-btn"><i class="fas fa-search"></i></button>
</div>
</div>
</nav>
<section class="hero" id="home">
<div class="container">
<div class="hero-content">
<h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Verona ÙÙŠØ±ÙˆÙ†Ø§</h1>
<p>Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ Ù„Ù„ØªØ³ÙˆÙ‚ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† ÙÙŠ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± - Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©ØŒ Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©ØŒ ÙˆØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹</p>
<a href="#products" class="btn-primary">ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</a>
</div>
<div class="hero-image">
<div class="sale-badge">Ø®ØµÙ… 30%</div>
<img src="https://images.unsplash.com/photo-1607082350899-7e105aa886ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ØªØ³ÙˆÙ‚ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
</div>
</div>
</section>
<div class="container main-content">
<aside class="categories-sidebar" id="categories-sidebar">
<h3><i class="fas fa-shopping-bag"></i> Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ³ÙˆÙŠÙ‚</h3>
<div class="category-sidebar-list" id="sidebar-categories">
</div>
</aside>
<main class="content-wrapper">
<section class="featured-products" id="products">
<h2 class="section-title">Ù…Ù†ØªØ¬Ø§Øª Ù…Ù…ÙŠØ²Ø©</h2>
<div class="products-grid" id="products-container">
</div>
</section>
</main>
</div>
<section class="features">
<div class="container">
<div class="features-grid">
<div class="feature">
<i class="fas fa-shipping-fast"></i>
<h3>ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹</h3>
<p>ØªÙˆØµÙŠÙ„ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</p>
</div>
<div class="feature">
<i class="fas fa-shield-alt"></i>
<h3>Ø¯ÙØ¹ Ø¢Ù…Ù†</h3>
<p>Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</p>
</div>
<div class="feature">
<i class="fas fa-headset"></i>
<h3>Ø¯Ø¹Ù… ÙÙ†ÙŠ</h3>
<p>Ø®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ Ù…ØªØ§Ø­Ø© 24/7</p>
</div>
</div>
</div>
</section>
<footer class="footer">
<div class="container">
<div class="footer-grid">
<div class="footer-col">
<h3>Verona ÙÙŠØ±ÙˆÙ†Ø§</h3>
<p>Ù…ØªØ¬Ø± Verona ÙÙŠØ±ÙˆÙ†Ø§ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù„ØªØ³ÙˆÙ‚ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† ÙÙŠ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±. Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹Ø©.</p>
<div class="social-links">
<a href="#"><i class="fab fa-facebook"></i></a>
<a href="#"><i class="fab fa-instagram"></i></a>
<a href="#"><i class="fab fa-twitter"></i></a>
</div>
</div>
<div class="footer-col">
<h3>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
<ul>
<li><a href="#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
<li><a href="#products">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
<li><a href="#categories">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</a></li>
<li><a href="https://www.facebook.com/share/16ujqgMEAb/" target="_blank">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
</ul>
</div>
<div class="footer-col">
<h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
<ul class="contact-info">
<li><i class="fas fa-map-marker-alt"></i> Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</li>
<li><i class="fas fa-phone"></i> 0557355072</li>
</ul>
</div>
<div class="footer-col">
<h3>Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h3>
<div class="payment-methods">
<i class="fas fa-money-bill-wave"></i>
<span>Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</span>
</div>
</div>
</div>
<div class="footer-bottom">
<p>Â© 2026 Verona ÙÙŠØ±ÙˆÙ†Ø§ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
</div>
</div>
</footer>
<div class="cart-sidebar" id="cart-sidebar">
<div class="cart-header">
<h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
<button class="close-cart" id="close-cart">&times;</button>
</div>
<div class="cart-items" id="cart-items">
</div>
<div class="cart-total">
<p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="cart-total-price">0 Ø¯.Ø¬</span></p>
<button class="btn-primary" id="complete-purchase">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡</button>
</div>
</div>

<script>
// =============================
// âœ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ­ÙŠØ¯: Ø¥Ø¶Ø§ÙØ© ?v= Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØ±ÙŠ
// =============================
let products = [];
let categories = [];
const WILAYAS_DATA_URL = "https://cdn.jsdelivr.net/gh/salehsalahsamisami-ui/baladiya@main/algeria_cities.json";
const FORMSPREE_URL = "https://formspree.io/f/mykkkpka";
let algeriaData = null;
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let viewedProducts = [];
let activeCategory = "Ø§Ù„ÙƒÙ„";

// âœ… Ù‡Ù†Ø§ ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø¶Ø§ÙØ© ?v=Date.now()
async function loadStoreData() {
  const v = Date.now(); // â† Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­
  const CATEGORIES_URL = `https://cdn.jsdelivr.net/gh/salehsalahsamisami-ui/Jnos@main/categories.json?v=${v}`;
  const PRODUCTS_URL = `https://cdn.jsdelivr.net/gh/salehsalahsamisami-ui/Jnos@main/products.json?v=${v}`;

  try {
    const [catRes, prodRes] = await Promise.all([
      fetch(CATEGORIES_URL),
      fetch(PRODUCTS_URL)
    ]);
    if (catRes.ok) categories = await catRes.json();
    if (prodRes.ok) products = await prodRes.json();
    displaySidebarCategories();
    displayProducts(products);
    return true;
  } catch (error) {
    console.error('Error loading store ', error);
    return false;
  }
}

// Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙƒÙ…Ø§ Ù‡ÙŠ (Ø¯ÙˆÙ† Ø£ÙŠ ØªØºÙŠÙŠØ±)
async function loadAlgeriaData() {
try {
console.log('Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª ÙˆØ§Ù„Ø¨Ù„Ø¯ÙŠØ§Øª...');
const response = await fetch(WILAYAS_DATA_URL);
if (!response.ok) {
throw new Error(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©: ${response.status}`);
}
const data = await response.json();
console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
console.log('Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', typeof data);
if (Array.isArray(data)) {
console.log('ğŸ“Š Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡ÙŠ Ù…ØµÙÙˆÙØ© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰', data.length, 'Ø¹Ù†ØµØ±');
algeriaData = {};
data.forEach(item => {
if (item.wilaya_name) {
const wilayaName = item.wilaya_name.trim();
if (!algeriaData[wilayaName]) {
let code = item.wilaya_code || item.id || "99";
algeriaData[wilayaName] = {
communes: [],
code: parseInt(code)
};
}
if (item.commune_name && !algeriaData[wilayaName].communes.includes(item.commune_name.trim())) {
algeriaData[wilayaName].communes.push(item.commune_name.trim());
}
}
else if (item.name) {
const wilayaName = item.name.trim();
if (!algeriaData[wilayaName]) {
algeriaData[wilayaName] = {
communes: (item.communes || []).map(c => typeof c === 'string' ? c.trim() : c),
code: item.id || item.code || ""
};
}
}
});
console.log('âœ… ØªÙ… ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰', Object.keys(algeriaData).length, 'ÙˆÙ„Ø§ÙŠØ©');
}
else if (typeof data === 'object') {
console.log('ğŸ“Š Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡ÙŠ ÙƒØ§Ø¦Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰', Object.keys(data).length, 'ÙˆÙ„Ø§ÙŠØ©');
algeriaData = data;
}
return true;
} catch (error) {
console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±:', error);
return false;
}
}

function getDeliveryCost(wilayaName, deliveryType) {
if (!wilayaName) {
return deliveryType === 'home' ? 800 : 500;
}
const cleanWilayaName = wilayaName.trim();
const wilayaPrices = {
"Ø£Ø¯Ø±Ø§Ø±": { home: 1200, office: 700 },
"Ø¨Ø´Ø§Ø±": { home: 1100, office: 600 },
"ØªÙ…Ù†Ø±Ø§Ø³Øª": { home: 1400, office: 900 },
"ØªÙ†Ø¯ÙˆÙ": { home: 1400, office: 700 },
"ØªÙŠÙ…ÙŠÙ…ÙˆÙ†": { home: 1400, office: 800 },
"Ø¥Ù„ÙŠØ²ÙŠ": { home: 1300, office: 700 },
"Ø¹ÙŠÙ† ØµØ§Ù„Ø­": { home: 1900, office: 1300 },
"Ø§Ù„ÙˆØ§Ø¯ÙŠ": { home: 1000, office: 650 },
"ÙˆØ±Ù‚Ù„Ø©": { home: 1000, office: 600 },
"Ø§Ù„Ø¨ÙŠØ¶": { home: 1000, office: 600 },
"Ø§Ù„Ø£ØºÙˆØ§Ø·": { home: 900, office: 500 },
"Ø¨Ø³ÙƒØ±Ø©": { home: 900, office: 500 },
"ØºØ±Ø¯Ø§ÙŠØ©": { home: 900, office: 600 },
"Ø§Ù„Ø¬Ù„ÙØ©": { home: 900, office: 500 },
"Ø§Ù„Ø´Ù„Ù": { home: 800, office: 500 },
"Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ": { home: 800, office: 500 },
"Ø¨Ø§ØªÙ†Ø©": { home: 800, office: 500 },
"ØªØ¨Ø³Ø©": { home: 800, office: 500 },
"ØªÙ„Ù…Ø³Ø§Ù†": { home: 800, office: 500 },
"ØªÙŠØ§Ø±Øª": { home: 800, office: 500 },
"Ø³Ø¹ÙŠØ¯Ø©": { home: 800, office: 500 },
"Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³": { home: 800, office: 500 },
"Ù‚Ø§Ù„Ù…Ø©": { home: 800, office: 500 },
"Ù…Ø³ØªØºØ§Ù†Ù…": { home: 800, office: 500 },
"Ù…Ø¹Ø³ÙƒØ±": { home: 700, office: 500 },
"ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª": { home: 800, office: 500 },
"Ø®Ù†Ø´Ù„Ø©": { home: 800, office: 500 },
"Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³": { home: 800, office: 500 },
"ØºÙ„ÙŠØ²Ø§Ù†": { home: 800, office: 500 },
"Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬": { home: 800, office: 500 },
"Ø§Ù„Ø·Ø§Ø±Ù": { home: 800, office: 500 },
"Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª": { home: 800, office: 500 },
"Ø¨Ø¬Ø§ÙŠØ©": { home: 800, office: 500 },
"Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": { home: 500, office: 400 },
"Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©": { home: 500, office: 400 },
"Ø§Ù„Ø¨ÙˆÙŠØ±Ø©": { home: 700, office: 500 },
"ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ": { home: 700, office: 400 },
"Ø³Ø·ÙŠÙ": { home: 400, office: 200 },
"Ø³ÙƒÙŠÙƒØ¯Ø©": { home: 700, office: 400 },
"Ø¹Ù†Ø§Ø¨Ø©": { home: 700, office: 400 },
"Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©": { home: 700, office: 400 },
"Ø§Ù„Ù…Ø¯ÙŠØ©": { home: 700, office: 500 },
"Ø§Ù„Ù…Ø³ÙŠÙ„Ø©": { home: 700, office: 500 },
"ÙˆÙ‡Ø±Ø§Ù†": { home: 700, office: 400 },
"Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³": { home: 700, office: 400 },
"ØªÙŠØ¨Ø§Ø²Ø©": { home: 600, office: 400 },
"Ù…ÙŠÙ„Ø©": { home: 700, office: 500 },
"Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰": { home: 700, office: 500 },
"Ø§Ù„Ù†Ø¹Ø§Ù…Ø©": { home: 1000, office: 700 },
"Ø¬ÙŠØ¬Ù„": { home: 700, office: 400 },
"Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ø§Ù„Ù…Ø®ØªØ§Ø±": { home: 1200, office: 700 },
"Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„": { home: 1000, office: 600 },
"Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³": { home: 1100, office: 800 },
"ØªÙ‚Ø±Øª": { home: 950, office: 650 },
"Ø§Ù„Ù…ØºÙŠØ±": { home: 1000, office: 600 },
"Ø§Ù„Ù…Ù†ÙŠØ¹Ø©": { home: 1000, office: 600 },
"ØªÙˆÙ‚Ø±Øª": { home: 950, office: 650 },
"Ø¬Ø§Ù†Øª": { home: 1300, office: 700 }
};
if (wilayaPrices[cleanWilayaName]) {
const price = wilayaPrices[cleanWilayaName][deliveryType];
return price;
}
const aliases = {
"Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©": "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±",
"Ø¹Ø§ØµÙ…Ø©": "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±"
};
if (aliases[cleanWilayaName] && wilayaPrices[aliases[cleanWilayaName]]) {
const price = wilayaPrices[aliases[cleanWilayaName]][deliveryType];
return price;
}
for (const [name, prices] of Object.entries(wilayaPrices)) {
if (name.includes(cleanWilayaName) || cleanWilayaName.includes(name)) {
const price = prices[deliveryType];
return price;
}
}
const defaultPrice = deliveryType === 'home' ? 800 : 500;
return defaultPrice;
}

async function loadStatesIntoForm() {
const stateSelect = document.getElementById('customer-state');
if (!stateSelect) return;
stateSelect.innerHTML = '<option value="">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª...</option>';
stateSelect.disabled = true;
if (!algeriaData) {
await loadAlgeriaData();
}
if (!algeriaData) {
stateSelect.innerHTML = '<option value="">ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª</option>';
return;
}
stateSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</option>';
const sortedWilayas = Object.entries(algeriaData)
.map(([name, data]) => ({ name, code: data.code }))
.sort((a, b) => a.code - b.code);
sortedWilayas.forEach(wilaya => {
const option = document.createElement('option');
option.value = wilaya.name;
option.textContent = `${wilaya.code.toString().padStart(2, '0')} - ${wilaya.name}`;
stateSelect.appendChild(option);
});
stateSelect.disabled = false;
}

function getMunicipalitiesByWilaya(wilayaName) {
if (!algeriaData) {
return ["Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹"];
}
const cleanWilayaName = wilayaName.trim();
if (algeriaData[cleanWilayaName]) {
const wilaya = algeriaData[cleanWilayaName];
if (wilaya.communes && Array.isArray(wilaya.communes) && wilaya.communes.length > 0) {
return wilaya.communes.sort((a, b) => a.localeCompare(b, 'ar'));
}
}
for (const [name, data] of Object.entries(algeriaData)) {
const cleanName = name.trim();
if (cleanName.includes(cleanWilayaName) || cleanWilayaName.includes(cleanName)) {
if (data.communes && Array.isArray(data.communes) && data.communes.length > 0) {
return data.communes.sort((a, b) => a.localeCompare(b, 'ar'));
}
break;
}
}
const defaultMunicipalities = {
"Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": ["Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„ÙˆØ³Ø·Ù‰", "Ø¨Ø§Ø¨ Ø§Ù„ÙˆØ§Ø¯ÙŠ", "Ø§Ù„Ù‚ØµØ¨Ø©", "Ø¨ÙˆÙ„ÙˆØºÙŠÙ†", "Ø§Ù„Ø­Ø±Ø§Ø´", "Ø¨Ø¦Ø± Ù…Ø±Ø§Ø¯ Ø±Ø§ÙŠØ³", "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡"],
"ÙˆÙ‡Ø±Ø§Ù†": ["ÙˆÙ‡Ø±Ø§Ù†", "Ø§Ù„Ø³Ø§Ù†ÙŠØ©", "Ø¨Ø¦Ø± Ø§Ù„Ø¬ÙŠØ±", "Ø¹ÙŠÙ† Ø§Ù„ØªØ±Ùƒ", "Ø­Ø§Ø³ÙŠ Ø¨ÙˆÙ†ÙŠÙ", "Ù…Ø±Ø³Ù‰ Ø§Ù„Ø­Ø¬Ø§Ø¬"],
"Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©": ["Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©", "Ø§Ù„Ø®Ø±ÙˆØ¨", "Ø¹ÙŠÙ† Ø¹Ø¨ÙŠØ¯", "Ø²ÙŠØºÙˆØ¯ ÙŠÙˆØ³Ù", "Ø§Ø¨Ù† Ø¨Ø§Ø¯ÙŠØ³", "Ø­Ø§Ù…Ø© Ø¨ÙˆØ²ÙŠØ§Ù†"],
"Ø¹Ù†Ø§Ø¨Ø©": ["Ø¹Ù†Ø§Ø¨Ø©", "Ø³Ø±Ø§ÙŠØ¯ÙŠ", "Ø§Ù„Ø­Ø¬Ø§Ø±", "Ø¨Ø±Ø­Ø§Ù„", "Ø§Ù„Ø´Ø±ÙØ©", "Ø¹ÙŠÙ† Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©"],
"Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©": ["Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©", "Ø¨ÙˆØ¹Ø±ÙØ©", "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", "Ø¨ÙˆÙ‚Ø±Ø©", "ØµÙˆØ­Ø§Ù†", "Ù…Ø¬Ø¨Ø±", "Ø§Ù„Ø´Ø¨Ù„ÙŠ"],
"ØªÙŠØ¨Ø§Ø²Ø©": ["ØªÙŠØ¨Ø§Ø²Ø©", "Ø´Ø±Ø´Ø§Ù„", "Ø¯ÙˆØ§ÙˆØ¯Ø©", "Ø§Ù„Ù‚Ù„ÙŠØ¹Ø©", "Ø­Ù…Ø± Ø§Ù„Ø¹ÙŠÙ†", "ÙÙˆÙƒØ©"],
"ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ": ["ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ", "Ø¹ÙŠÙ† Ø§Ù„Ø­Ù…Ø§Ù…", "Ù…Ø§ÙƒÙˆØ¯Ø©", "Ø£Ø²ÙÙˆÙ†", "Ø¨Ù†ÙŠ Ø¯ÙˆØ§Ù„Ø©", "Ø¨Ù†ÙŠ ÙŠÙ†ÙŠ"],
"Ø³Ø·ÙŠÙ": ["Ø³Ø·ÙŠÙ", "Ø¹ÙŠÙ† Ø£Ø±Ù†Ø§Øª", "Ø¨Ø¦Ø± Ø§Ù„Ø¹Ø±Ø´", "Ø¨ÙˆÙ‚Ø§Ø¹Ø©", "Ø¬Ù…ÙŠÙ„Ø©", "ØµØ§Ù„Ø­ Ø¨Ø§ÙŠ"],
"Ø¨Ø§ØªÙ†Ø©": ["Ø¨Ø§ØªÙ†Ø©", "ÙØ³Ø¯ÙŠØ³", "Ø¹ÙŠÙ† Ø§Ù„ØªÙˆØªØ©", "Ø£Ø±ÙŠØ³", "Ø¨Ø±ÙŠÙƒØ©", "Ø§Ù„Ø´Ù…Ø±Ø©"],
"Ø§Ù„Ø´Ù„Ù": ["Ø§Ù„Ø´Ù„Ù", "ÙˆØ§Ø¯ÙŠ Ø§Ù„ÙØ¶Ø©", "Ø¨Ù†ÙŠ Ø­ÙˆØ§Ø¡", "Ø§Ù„Ø²Ø¨ÙˆØ¬Ø©", "Ø£Ø¨Ùˆ Ø§Ù„Ø­Ø³Ù†", "ØªÙ†Ø³"]
};
if (defaultMunicipalities[wilayaName]) {
return defaultMunicipalities[wilayaName];
}
return [
"Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„ÙˆÙ„Ø§Ø¦ÙŠ",
"Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
"Ø§Ù„Ø­ÙŠ Ø§Ù„Ø¨Ù„Ø¯ÙŠ"
];
}

document.addEventListener('DOMContentLoaded', function() {
loadStoreData();
updateCartCount();
setupEventDelegation();
setupSearch();
setupMobileMenu();
setupCartSidebar();
setupCartCheckoutButton();
changeHeroImage();
setupMenuCloseOnClick();

document.querySelectorAll('.nav-link').forEach(link => {
if (link.getAttribute('href') === '#home') {
link.addEventListener('click', function(e) {
e.preventDefault();
activeCategory = "Ø§Ù„ÙƒÙ„";
displayProducts(products);
showNotification("Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª");
document.querySelectorAll('.category-sidebar-item').forEach(item => {
item.classList.toggle('active', item.getAttribute('data-category') === "Ø§Ù„ÙƒÙ„");
});
const productsSection = document.getElementById('products');
if (productsSection) {
productsSection.scrollIntoView({ behavior: 'smooth' });
}
});
}
});

setTimeout(() => {
loadAlgeriaData().then(success => {
if (success) {
console.log('âœ… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…');
console.log('Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª:', Object.keys(algeriaData).length);
} else {
console.log('âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±');
}
});
}, 1000);
});

function displaySidebarCategories() {
const sidebarContainer = document.getElementById('sidebar-categories');
if (!sidebarContainer) return;
sidebarContainer.innerHTML = '';
const categoryCounts = {};
categories.forEach(category => {
if (category.name === "Ø§Ù„ÙƒÙ„") {
categoryCounts["Ø§Ù„ÙƒÙ„"] = products.length;
} else {
categoryCounts[category.name] = products.filter(p => p.category === category.name).length;
}
});
categories.forEach(category => {
const categoryItem = document.createElement('a');
categoryItem.className = `category-sidebar-item ${category.name === activeCategory ? 'active' : ''}`;
categoryItem.href = '#';
categoryItem.setAttribute('data-category', category.name);
categoryItem.innerHTML = `
<div class="category-icon" style="color: ${category.color};">
<i class="${category.icon}"></i>
</div>
<span class="category-name">${category.name}</span>
<span class="category-count">${categoryCounts[category.name] || 0}</span>
`;
sidebarContainer.appendChild(categoryItem);
});
const categoryItems = document.querySelectorAll('.category-sidebar-item');
categoryItems.forEach(item => {
item.addEventListener('click', function(e) {
e.preventDefault();
categoryItems.forEach(el => el.classList.remove('active'));
this.classList.add('active');
const selectedCategory = this.getAttribute('data-category');
activeCategory = selectedCategory;
if (selectedCategory === "Ø§Ù„ÙƒÙ„") {
displayProducts(products);
showNotification("Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª");
} else {
const filteredProducts = products.filter(product => product.category === selectedCategory);
displayProducts(filteredProducts);
showNotification(`Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø³Ù…: ${selectedCategory}`);
}
document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
});
});
}

function setupMenuCloseOnClick() {
const navLinks = document.querySelectorAll('.nav-link');
const navMenu = document.querySelector('.nav-links');
navLinks.forEach(link => {
link.addEventListener('click', function() {
if (window.innerWidth <= 992) {
navMenu.classList.remove('active');
}
});
});
}

function setupCartCheckoutButton() {
const completePurchaseBtn = document.getElementById('complete-purchase');
if (completePurchaseBtn) {
completePurchaseBtn.addEventListener('click', function() {
if (cart.length === 0) {
showNotification('Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙØ§Ø±ØºØ©. Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø£ÙˆÙ„Ø§Ù‹.');
return;
}
showCartCheckoutForm();
});
}
}

function setupEventDelegation() {
const productsContainer = document.getElementById('products-container');
if (productsContainer) {
productsContainer.addEventListener('click', function(e) {
if (e.target.closest('.add-to-cart')) {
const button = e.target.closest('.add-to-cart');
const productId = parseInt(button.getAttribute('data-id'));
addToCart(productId);
return;
}
if (e.target.closest('.buy-now')) {
const button = e.target.closest('.buy-now');
const productId = parseInt(button.getAttribute('data-id'));
buyNow(productId);
return;
}
const productCard = e.target.closest('.product-card');
if (productCard && !e.target.closest('.product-buttons')) {
const productId = parseInt(productCard.querySelector('.add-to-cart').getAttribute('data-id'));
showProductDetails(productId);
return;
}
});
}
const cartItemsContainer = document.getElementById('cart-items');
if (cartItemsContainer) {
cartItemsContainer.addEventListener('click', function(e) {
if (e.target.closest('.increase-quantity')) {
const button = e.target.closest('.increase-quantity');
const productId = parseInt(button.getAttribute('data-id'));
const size = button.getAttribute('data-size') || null;
updateCartQuantity(productId, 1, size);
return;
}
if (e.target.closest('.decrease-quantity')) {
const button = e.target.closest('.decrease-quantity');
const productId = parseInt(button.getAttribute('data-id'));
const size = button.getAttribute('data-size') || null;
updateCartQuantity(productId, -1, size);
return;
}
if (e.target.closest('.remove-item')) {
const button = e.target.closest('.remove-item');
const productId = parseInt(button.getAttribute('data-id'));
const size = button.getAttribute('data-size') || null;
removeFromCart(productId, size);
return;
}
});
}
}

function showProductDetails(productId) {
const product = products.find(p => p.id === productId);
if (!product) return;
if (!viewedProducts.includes(productId)) {
viewedProducts.push(productId);
}
const existingModal = document.getElementById('product-detail-modal');
if (existingModal) {
existingModal.remove();
}
const productDetailHTML = `
<div class="product-detail-modal" id="product-detail-modal">
<div class="product-detail-content">
<h2>${product.name}</h2>
<div class="product-detail-grid">
<div class="product-detail-image">
<img src="${product.image}" alt="${product.name}">
</div>
<div class="product-detail-info">
<h3>${product.name}</h3>
<p class="product-description">${product.description}</p>
<div class="product-detail-price">
${product.price.toLocaleString()} Ø¯.Ø¬
${product.oldPrice ? `<span class="product-detail-old-price">${product.oldPrice.toLocaleString()} Ø¯.Ø¬</span>` : ''}
</div>
${product.sizes ? `
<div class="size-selection">
<h4>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‚Ø§Ø³:</h4>
<div class="size-options" id="size-options">
${product.sizes.map(size => `
<div class="size-option" data-size="${size}">${size}</div>
`).join('')}
</div>
<p id="selected-size-text" style="margin-top: 10px; color: #2e7d32; font-weight: 600;"></p>
</div>
` : ''}
<div class="quantity-section">
<label class="quantity-label">Ø§Ù„ÙƒÙ…ÙŠØ©</label>
<div class="quantity-controls">
<button class="quantity-btn minus" id="detail-decrease-quantity">-</button>
<input type="number" id="detail-quantity-input" value="1" min="1" max="99">
<button class="quantity-btn plus" id="detail-increase-quantity">+</button>
</div>
</div>
<div class="product-detail-description">
<h4>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬:</h4>
<pre style="font-family: 'Cairo', sans-serif; white-space: pre-wrap; margin-top: 10px;">${product.details}</pre>
</div>
<div class="product-detail-buttons">
<button class="buy-now" id="detail-buy-now" data-id="${product.id}">
<i class="fas fa-bolt"></i>
Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†
</button>
<button class="add-to-cart" id="detail-add-to-cart" data-id="${product.id}">
<i class="fas fa-cart-plus"></i>
Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
</button>
<button class="btn-cancel" id="close-product-detail" style="margin-top: 10px;">
<i class="fas fa-times"></i>
Ø¥ØºÙ„Ø§Ù‚
</button>
</div>
</div>
</div>
`;
document.body.insertAdjacentHTML('beforeend', productDetailHTML);
document.getElementById('close-product-detail').addEventListener('click', function() {
document.getElementById('product-detail-modal').remove();
});
const detailIncreaseBtn = document.getElementById('detail-increase-quantity');
const detailDecreaseBtn = document.getElementById('detail-decrease-quantity');
const detailQuantityInput = document.getElementById('detail-quantity-input');
if (detailIncreaseBtn) {
detailIncreaseBtn.addEventListener('click', function() {
let currentValue = parseInt(detailQuantityInput.value) || 1;
if (currentValue < 99) {
detailQuantityInput.value = currentValue + 1;
}
});
}
if (detailDecreaseBtn) {
detailDecreaseBtn.addEventListener('click', function() {
let currentValue = parseInt(detailQuantityInput.value) || 1;
if (currentValue > 1) {
detailQuantityInput.value = currentValue - 1;
}
});
}
detailQuantityInput.addEventListener('input', function() {
let value = parseInt(this.value) || 1;
if (value < 1) this.value = 1;
if (value > 99) this.value = 99;
});
if (product.sizes) {
const sizeOptions = document.querySelectorAll('.size-option');
let selectedSize = null;
sizeOptions.forEach(option => {
option.addEventListener('click', function() {
if (this.classList.contains('disabled')) return;
sizeOptions.forEach(opt => opt.classList.remove('selected'));
this.classList.add('selected');
selectedSize = this.getAttribute('data-size');
document.getElementById('selected-size-text').textContent = `Ø§Ù„Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ø®ØªØ§Ø±: ${selectedSize}`;
});
});
document.getElementById('detail-add-to-cart').addEventListener('click', function() {
if (!selectedSize) {
showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù‚Ø§Ø³ Ø£ÙˆÙ„Ø§Ù‹');
return;
}
const input = document.getElementById('detail-quantity-input');
const quantity = parseInt(input?.value) || 1;
addToCartWithQuantity(productId, quantity, selectedSize);
document.getElementById('product-detail-modal').remove();
});
document.getElementById('detail-buy-now').addEventListener('click', function() {
if (!selectedSize) {
showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù‚Ø§Ø³ Ø£ÙˆÙ„Ø§Ù‹');
return;
}
const input = document.getElementById('detail-quantity-input');
const quantity = parseInt(input?.value) || 1;
document.getElementById('product-detail-modal').remove();
buyNowWithQuantity(productId, quantity, selectedSize);
});
} else {
document.getElementById('detail-add-to-cart').addEventListener('click', function() {
const input = document.getElementById('detail-quantity-input');
const quantity = parseInt(input?.value) || 1;
addToCartWithQuantity(productId, quantity, null);
document.getElementById('product-detail-modal').remove();
});
document.getElementById('detail-buy-now').addEventListener('click', function() {
const input = document.getElementById('detail-quantity-input');
const quantity = parseInt(input?.value) || 1;
document.getElementById('product-detail-modal').remove();
buyNowWithQuantity(productId, quantity, null);
});
}
const closeProductDetailOnEscape = function(e) {
if (e.key === 'Escape') {
const modal = document.getElementById('product-detail-modal');
if (modal) {
modal.remove();
document.removeEventListener('keydown', closeProductDetailOnEscape);
}
}
};
document.addEventListener('keydown', closeProductDetailOnEscape);
document.querySelector('.product-detail-content').addEventListener('click', function(e) {
e.stopPropagation();
});
}

function changeHeroImage() {
const heroImage = document.querySelector('.hero-image img');
if (heroImage) {
heroImage.src = 'https://images.unsplash.com/photo-1607082350899-7e105aa886ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
heroImage.alt = 'Ù…ØªØ¬Ø± Verona ÙÙŠØ±ÙˆÙ†Ø§';
}
}

function displayProducts(productsToDisplay) {
const productsContainer = document.getElementById('products-container');
if (!productsContainer) return;
productsContainer.innerHTML = '';
if (productsToDisplay.length === 0) {
productsContainer.innerHTML = `
<div style="grid-column: 1 / -1; text-align: center; padding: 50px 20px; background: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
<i class="fas fa-search" style="font-size: 3rem; color: #ddd; margin-bottom: 20px;"></i>
<h3 style="color: #666; margin-bottom: 10px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª</h3>
<p style="color: #888;">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…</p>
</div>
`;
return;
}
productsToDisplay.forEach(product => {
const productCard = document.createElement('div');
productCard.className = 'product-card';
productCard.innerHTML = `
<div class="product-image">
<img src="${product.image}" alt="${product.name}">
</div>
<div class="product-info">
<h3>${product.name}</h3>
<p class="product-description">${product.description}</p>
<div class="product-price">
${product.price.toLocaleString()} Ø¯.Ø¬
${product.oldPrice ? `<span class="product-old-price">${product.oldPrice.toLocaleString()} Ø¯.Ø¬</span>` : ''}
</div>
<div class="product-buttons">
<button class="buy-now" data-id="${product.id}">
<i class="fas fa-bolt"></i>
Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†
</button>
<button class="add-to-cart" data-id="${product.id}">
<i class="fas fa-cart-plus"></i>
Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
</button>
</div>
</div>
`;
productsContainer.appendChild(productCard);
});
}

function addToCart(productId) {
const product = products.find(p => p.id === productId);
if (!product) return;
const existingItem = cart.find(item => item.id === productId);
if (existingItem) {
existingItem.quantity += 1;
} else {
cart.push({
id: product.id,
name: product.name,
price: product.price,
image: product.image,
quantity: 1
});
}
localStorage.setItem('cart', JSON.stringify(cart));
updateCartCount();
updateCartDisplay();
showNotification(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${product.name} Ø¥Ù„Ù‰ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª`);
}

function buyNow(productId) {
const product = products.find(p => p.id === productId);
if (!product) return;
showCheckoutForm(product, false);
}

function showCartCheckoutForm() {
let totalPrice = 0;
let productsList = [];
cart.forEach(item => {
totalPrice += item.price * item.quantity;
productsList.push({
name: item.name,
price: item.price,
quantity: item.quantity,
total: item.price * item.quantity,
size: item.size || null
});
});
showCheckoutForm(null, true, {total: totalPrice, products: productsList});
}

async function showCheckoutForm(product, isCartCheckout = false, cartData = null) {
const existingModal = document.getElementById('checkout-modal');
if (existingModal) {
existingModal.remove();
}
let productPrice = 0;
let totalAmount = 0;
let productsHTML = '';
if (isCartCheckout && cartData) {
productPrice = cartData.total;
totalAmount = productPrice;
cartData.products.forEach(item => {
productsHTML += `
<div style="padding: 8px 0; border-bottom: 1px solid #eee;">
<div style="display: flex; justify-content: space-between;">
<span>${item.name} (${item.quantity}x${item.size ? ` - Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size}` : ''})</span>
<span>${(item.total).toLocaleString()} Ø¯.Ø¬</span>
</div>
</div>
`;
});
} else {
const quantity = product.quantity || 1;
productPrice = product.price * quantity;
totalAmount = productPrice;
productsHTML = `
<div style="padding: 8px 0; border-bottom: 1px solid #eee;">
<div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
<span>${product.name}${product.selectedSize ? ` - Ø§Ù„Ù…Ù‚Ø§Ø³: ${product.selectedSize}` : ''}</span>
</div>
<div style="display: flex; justify-content: space-between; color: #2e7d32; font-weight: bold; font-size: 1.1rem;">
<span>${product.price.toLocaleString()} Ø¯.Ø¬ Ã— ${quantity}</span>
<span>${productPrice.toLocaleString()} Ø¯.Ø¬</span>
</div>
</div>
`;
}
const checkoutHTML = `
<div class="checkout-modal" id="checkout-modal">
<div class="checkout-content">
<h2>Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø´Ø±Ø§Ø¡</h2>
<div class="checkout-product">
<h3>${isCartCheckout ? 'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø©' : 'Ø§Ù„Ù…Ù†ØªØ¬'}</h3>
<div style="max-height: 150px; overflow-y: auto; margin-top: 10px;">
${productsHTML}
</div>
</div>
<form id="checkout-form">
<div class="form-group">
<label for="customer-name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
<input type="text" id="customer-name" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
</div>
<div class="form-group">
<label for="customer-phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>
<input type="tel" id="customer-phone" required placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ (Ù…Ø«Ø§Ù„: 0557355072)" pattern="^0(5|6|7)[0-9]{8}$" title="Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¬Ø²Ø§Ø¦Ø±ÙŠ ØµØ­ÙŠØ­ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05ØŒ 06ØŒ Ø£Ùˆ 07 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…" oninput="validateAlgerianPhone(this)">
</div>
<div style="display: flex; gap: 15px; margin-bottom: 15px;">
<div class="form-group" style="flex: 1;">
<label for="customer-state">Ø§Ù„ÙˆÙ„Ø§ÙŠØ© *</label>
<select id="customer-state" required style="width: 100%;">
<option value="">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª...</option>
</select>
</div>
<div class="form-group" style="flex: 1;">
<label for="customer-municipality">Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© *</label>
<select id="customer-municipality" required disabled style="width: 100%;">
<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹</option>
</select>
</div>
</div>
<div class="form-group">
<label for="customer-address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ (Ø§Ù„Ø­ÙŠØŒ Ø§Ù„Ø´Ø§Ø±Ø¹ØŒ Ø±Ù‚Ù… Ø§Ù„Ù…Ù†Ø²Ù„) *</label>
<input type="text" id="customer-address" required placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ">
</div>
<div class="form-group">
<label for="delivery-type">Ù…ÙƒØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„ *</label>
<select id="delivery-type" required>
<option value="office">Ù…ÙƒØªØ¨ Ø§Ù„ØªÙˆØµÙŠÙ„</option>
<option value="home">Ø§Ù„Ù…Ù†Ø²Ù„</option>
</select>
</div>
<div style="background-color: #e8f5e9; padding: 10px; border-radius: 5px; margin: 15px 0; text-align: center;">
<h4 style="color: #2e7d32; margin-bottom: 5px;">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</h4>
<p style="font-size: 1.3rem; font-weight: bold; color: #2e7d32;" id="total-amount-display">
${totalAmount.toLocaleString()} Ø¯.Ø¬</p>
</div>
<div class="delivery-cost" id="delivery-cost-display">
<i class="fas fa-truck"></i>
ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙˆØµÙŠÙ„: Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡Ø§ Ø¨Ø¹Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©
</div>
<div class="checkout-buttons">
<button type="button" id="cancel-checkout" class="btn-cancel">Ø¥Ù„ØºØ§Ø¡</button>
<button type="submit" class="btn-confirm">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
</div>
</form>
</div>
</div>
`;
document.body.insertAdjacentHTML('beforeend', checkoutHTML);

window.validateAlgerianPhone = function(input) {
let value = input.value.replace(/\D/g, '');
if (value.startsWith('0') && value.length > 1 && ['5', '6', '7'].includes(value[1])) {
if (value.length > 10) {
value = value.substring(0, 10);
}
} else if (value.length > 0) {
if (!value.startsWith('0')) {
value = '0' + value.replace(/\D/g, '');
}
if (value.length > 1 && !['5', '6', '7'].includes(value[1])) {
value = '0';
}
if (value.length > 10) {
value = value.substring(0, 10);
}
}
input.value = value;
};

await loadStatesIntoForm();
document.getElementById('cancel-checkout').addEventListener('click', function() {
document.getElementById('checkout-modal').remove();
});
const stateSelect = document.getElementById('customer-state');
const municipalitySelect = document.getElementById('customer-municipality');
const deliveryTypeSelect = document.getElementById('delivery-type');
const deliveryCostDisplay = document.getElementById('delivery-cost-display');
const totalAmountDisplay = document.getElementById('total-amount-display');

function updateDeliveryCost() {
const selectedState = stateSelect.value;
const deliveryType = deliveryTypeSelect.value;
let deliveryCost = 0;
let deliveryText = "";
if (selectedState) {
deliveryCost = getDeliveryCost(selectedState, deliveryType);
deliveryText = `ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙˆØµÙŠÙ„ ${deliveryType === 'home' ? 'Ù„Ù„Ù…Ù†Ø²Ù„' : 'Ù„Ù…ÙƒØªØ¨ Ø§Ù„ØªÙˆØµÙŠÙ„'}: ${deliveryCost.toLocaleString()} Ø¯.Ø¬`;
} else {
deliveryText = `ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙˆØµÙŠÙ„: 0 Ø¯.Ø¬ (Ø§Ø®ØªØ± ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹)`;
}
const newTotalAmount = productPrice + deliveryCost;
deliveryCostDisplay.innerHTML = `
<i class="fas fa-truck"></i>
${deliveryText}
`;
totalAmountDisplay.textContent = `${newTotalAmount.toLocaleString()} Ø¯.Ø¬`;
return { deliveryCost, newTotalAmount };
}

if (stateSelect) {
stateSelect.addEventListener('change', function() {
const selectedState = this.value;
if (selectedState) {
municipalitySelect.disabled = false;
const municipalities = getMunicipalitiesByWilaya(selectedState);
if (municipalities.length > 0) {
municipalitySelect.innerHTML = `
<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</option>
${municipalities.map(mun =>
`<option value="${mun}">${mun}</option>`
).join('')}
`;
} else {
municipalitySelect.innerHTML = '<option value="">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨Ù„Ø¯ÙŠØ§Øª</option>';
}
updateDeliveryCost();
} else {
municipalitySelect.disabled = true;
municipalitySelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹</option>';
}
});
}

if (deliveryTypeSelect) {
deliveryTypeSelect.addEventListener('change', function() {
updateDeliveryCost();
});
}

const closeCheckoutOnEscape = function(e) {
if (e.key === 'Escape') {
const modal = document.getElementById('checkout-modal');
if (modal) {
modal.remove();
document.removeEventListener('keydown', closeCheckoutOnEscape);
}
}
};
document.addEventListener('keydown', closeCheckoutOnEscape);
document.querySelector('.checkout-content').addEventListener('click', function(e) {
e.stopPropagation();
});
document.getElementById('checkout-form').addEventListener('submit', function(e) {
e.preventDefault();
const phoneInput = document.getElementById('customer-phone');
const phoneValue = phoneInput.value.trim();
const algerianPhonePattern = /^0(5|6|7)[0-9]{8}$/;
if (!algerianPhonePattern.test(phoneValue)) {
showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¬Ø²Ø§Ø¦Ø±ÙŠ ØµØ­ÙŠØ­ (ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05ØŒ 06ØŒ Ø£Ùˆ 07 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…)');
phoneInput.focus();
return;
}
const { deliveryCost, newTotalAmount } = updateDeliveryCost();
completeOrder(product, isCartCheckout, cartData, newTotalAmount, deliveryCost);
});
}

async function sendToFormspree(orderData) {
try {
let productsText = '';
orderData.products.forEach((item, index) => {
productsText += `   ${index + 1}. ${item.name}
Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}
${item.size ? `Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size}` : ''}
Ø§Ù„Ø³Ø¹Ø± Ù„Ù„ÙˆØ§Ø­Ø¯Ø©: ${item.price.toLocaleString()} Ø¯.Ø¬
Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${item.total.toLocaleString()} Ø¯.Ø¬
`;
});
const messageText = `
ğŸ“¦ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± Verona ÙÙŠØ±ÙˆÙ†Ø§
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”¢ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${orderData.id}
ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨: ${orderData.date}
ğŸ“‹ Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨: ${orderData.isCartOrder ? 'Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚' : 'Ø´Ø±Ø§Ø¡ Ù…Ø¨Ø§Ø´Ø±'}
ğŸšš Ù…ÙƒØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„: ${orderData.customer.deliveryType === 'home' ? 'Ø§Ù„Ù…Ù†Ø²Ù„' : 'Ù…ÙƒØªØ¨ Ø§Ù„ØªÙˆØµÙŠÙ„'}
ğŸ‘¤ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„:
ğŸ·ï¸ Ø§Ù„Ø§Ø³Ù…: ${orderData.customer.name}
ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${orderData.customer.phone}
ğŸ›ï¸ Ø§Ù„ÙˆÙ„Ø§ÙŠØ©: ${orderData.customer.state}
ğŸ™ï¸ Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©: ${orderData.customer.municipality}
ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${orderData.customer.address}
ğŸ›ï¸ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:
${productsText}
ğŸ’° Ø§Ù„Ù…Ø¨Ø§Ù„Øº:
ğŸ’µ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${orderData.productPrice.toLocaleString()} Ø¯.Ø¬
ğŸšš ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙˆØµÙŠÙ„: ${orderData.deliveryCost.toLocaleString()} Ø¯.Ø¬
ğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${orderData.total.toLocaleString()} Ø¯.Ø¬
â° Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.
`.trim();
const formData = new FormData();
formData.append('_subject', `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± Verona - ${orderData.id}`);
formData.append('name', orderData.customer.name);
formData.append('phone', orderData.customer.phone);
formData.append('state', orderData.customer.state);
formData.append('municipality', orderData.customer.municipality);
formData.append('address', orderData.customer.address);
formData.append('delivery_type', orderData.customer.deliveryType === 'home' ? 'Ø§Ù„Ù…Ù†Ø²Ù„' : 'Ù…ÙƒØªØ¨ Ø§Ù„ØªÙˆØµÙŠÙ„');
formData.append('order_id', orderData.id);
formData.append('order_date', orderData.date);
formData.append('total_amount', `${orderData.total.toLocaleString()} Ø¯.Ø¬`);
formData.append('delivery_cost', `${orderData.deliveryCost.toLocaleString()} Ø¯.Ø¬`);
formData.append('order_type', orderData.isCartOrder ? 'Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚' : 'Ø´Ø±Ø§Ø¡ Ù…Ø¨Ø§Ø´Ø±');
formData.append('products', productsText);
formData.append('message', messageText);
const response = await fetch(FORMSPREE_URL, {
method: 'POST',
body: formData,
headers: {
'Accept': 'application/json'
}
});
if (response.ok) {
console.log('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Formspree Ø¨Ù†Ø¬Ø§Ø­');
return true;
} else {
console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Formspree');
return false;
}
} catch (error) {
console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:', error);
return false;
}
}

function showSuccessModal(name, phone, orderId, totalAmount, state, municipality, deliveryType) {
const existingModal = document.getElementById('success-modal');
if (existingModal) {
existingModal.remove();
}
const successHTML = `
<div class="success-modal" id="success-modal">
<div class="success-content">
<div class="success-icon">
<i class="fas fa-check-circle"></i>
</div>
<h2 class="success-title">ØªÙ… Ø¨Ù†Ø¬Ø§Ø­! âœ…</h2>
<div class="success-message">
<p>Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ ${name}!</p>
<p>ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­.</p>
<p><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</strong> ${orderId}</p>
<p><strong>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong> ${totalAmount.toLocaleString()} Ø¯.Ø¬</p>
<p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${state} - ${municipality}</p>
<p><strong>Ù…ÙƒØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„:</strong> ${deliveryType === 'home' ? 'Ø§Ù„Ù…Ù†Ø²Ù„' : 'Ù…ÙƒØªØ¨ Ø§Ù„ØªÙˆØµÙŠÙ„'}</p>
<p>Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… ${phone} Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.</p>
</div>
<button class="success-close" id="close-success">Ø­Ø³Ù†Ø§Ù‹</button>
</div>
</div>
`;
document.body.insertAdjacentHTML('beforeend', successHTML);
document.getElementById('close-success').addEventListener('click', function() {
document.getElementById('success-modal').remove();
});
document.querySelector('.success-content').addEventListener('click', function(e) {
e.stopPropagation();
});
}

async function completeOrder(product, isCartCheckout, cartData, totalAmount, deliveryCost) {
const name = document.getElementById('customer-name').value;
const phone = document.getElementById('customer-phone').value;
const state = document.getElementById('customer-state').value;
const municipality = document.getElementById('customer-municipality').value;
const address = document.getElementById('customer-address').value;
const deliveryType = document.getElementById('delivery-type').value;
if (!state || !municipality) {
showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© ÙˆØ§Ù„Ø¨Ù„Ø¯ÙŠØ©');
return;
}
const algerianPhonePattern = /^0(5|6|7)[0-9]{8}$/;
if (!algerianPhonePattern.test(phone)) {
showNotification('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05ØŒ 06ØŒ Ø£Ùˆ 07 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…');
return;
}
let productPrice = 0;
let productsList = [];
if (isCartCheckout && cartData) {
productPrice = cartData.total;
productsList = cartData.products;
} else {
productPrice = product.price;
productsList = [{
name: product.name,
price: product.price,
quantity: 1,
total: productPrice,
size: product.selectedSize || null
}];
}
const orderData = {
id: 'ORD-' + Date.now(),
products: productsList,
customer: {
name: name,
phone: phone,
state: state,
municipality: municipality,
address: address,
deliveryType: deliveryType
},
productPrice: productPrice,
deliveryCost: deliveryCost,
total: totalAmount,
date: new Date().toLocaleString('ar-EG'),
status: 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©',
isCartOrder: isCartCheckout
};
saveOrder(orderData);
sendToFormspree(orderData);
if (isCartCheckout) {
cart = [];
localStorage.setItem('cart', JSON.stringify(cart));
updateCartCount();
updateCartDisplay();
}
document.getElementById('checkout-modal').remove();
document.getElementById('cart-sidebar').classList.remove('active');
showSuccessModal(name, phone, orderData.id, totalAmount, state, municipality, deliveryType);
}

function saveOrder(orderData) {
const orders = JSON.parse(localStorage.getItem('customerOrders')) || [];
orders.push(orderData);
localStorage.setItem('customerOrders', JSON.stringify(orders));
}

function updateCartCount() {
const cartCountElements = document.querySelectorAll('.cart-count');
const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
cartCountElements.forEach(element => {
element.textContent = totalItems;
});
}

function showNotification(message) {
const notification = document.createElement('div');
notification.className = 'notification';
notification.textContent = message;
document.body.appendChild(notification);
setTimeout(() => {
notification.remove();
}, 3000);
}

function setupSearch() {
const searchInput = document.getElementById('search-input');
const searchBtn = document.getElementById('search-btn');
if (!searchInput || !searchBtn) return;
searchBtn.addEventListener('click', performSearch);
searchInput.addEventListener('keypress', function(e) {
if (e.key === 'Enter') performSearch();
});
function performSearch() {
const searchTerm = searchInput.value.trim().toLowerCase();
if (searchTerm === '') {
displayProducts(products);
activeCategory = "Ø§Ù„ÙƒÙ„";
displaySidebarCategories();
return;
}
const filteredProducts = products.filter(product =>
product.name.toLowerCase().includes(searchTerm) ||
product.description.toLowerCase().includes(searchTerm) ||
product.category.toLowerCase().includes(searchTerm)
);
displayProducts(filteredProducts);
if (filteredProducts.length === 0) {
showNotification('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ');
} else {
showNotification(`ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${filteredProducts.length} Ù…Ù†ØªØ¬`);
}
}
}

function setupMobileMenu() {
const menuToggle = document.querySelector('.menu-toggle');
const navLinks = document.querySelector('.nav-links');
if (!menuToggle || !navLinks) return;
menuToggle.addEventListener('click', function() {
navLinks.classList.toggle('active');
if (navLinks.classList.contains('active')) {
document.body.style.overflow = 'hidden';
} else {
document.body.style.overflow = 'auto';
}
});
window.addEventListener('resize', function() {
if (window.innerWidth > 992 && navLinks.classList.contains('active')) {
navLinks.classList.remove('active');
document.body.style.overflow = 'auto';
}
});
}

function setupCartSidebar() {
const cartLink = document.querySelector('.cart-link');
const cartSidebar = document.getElementById('cart-sidebar');
const closeCart = document.getElementById('close-cart');
if (!cartLink || !cartSidebar || !closeCart) return;
cartLink.addEventListener('click', function(e) {
e.preventDefault();
cartSidebar.classList.add('active');
updateCartDisplay();
if (window.innerWidth <= 768) {
document.body.style.overflow = 'hidden';
}
});
closeCart.addEventListener('click', function() {
cartSidebar.classList.remove('active');
document.body.style.overflow = 'auto';
});
cartSidebar.addEventListener('click', function(e) {
if (e.target.id === 'cart-sidebar') {
cartSidebar.classList.remove('active');
document.body.style.overflow = 'auto';
}
});
updateCartDisplay();
}

function updateCartDisplay() {
const cartItemsContainer = document.getElementById('cart-items');
const cartTotalPrice = document.getElementById('cart-total-price');
if (!cartItemsContainer || !cartTotalPrice) return;
cartItemsContainer.innerHTML = '';
if (cart.length === 0) {
cartItemsContainer.innerHTML = '<p style="text-align: center; color: #888; padding: 20px;">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙØ§Ø±ØºØ©</p>';
cartTotalPrice.textContent = '0 Ø¯.Ø¬';
return;
}
let totalPrice = 0;
cart.forEach(item => {
const itemTotal = item.price * item.quantity;
totalPrice += itemTotal;
const cartItem = document.createElement('div');
cartItem.className = 'cart-item';
cartItem.innerHTML = `
<div class="cart-item-image">
<img src="${item.image}" alt="${item.name}">
</div>
<div class="cart-item-details">
<h4>${item.name}</h4>
${item.size ? `<p style="color: #666; font-size: 0.9rem; margin: 5px 0;">Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size}</p>` : ''}
<p class="cart-item-price">${item.price.toLocaleString()} Ø¯.Ø¬</p>
<div class="cart-item-quantity">
<button class="decrease-quantity" data-id="${item.id}" data-size="${item.size || ''}">-</button>
<span>${item.quantity}</span>
<button class="increase-quantity" data-id="${item.id}" data-size="${item.size || ''}">+</button>
</div>
<button class="remove-item" data-id="${item.id}" data-size="${item.size || ''}">Ø­Ø°Ù</button>
</div>
`;
cartItemsContainer.appendChild(cartItem);
});
cartTotalPrice.textContent = `${totalPrice.toLocaleString()} Ø¯.Ø¬`;
}

function updateCartQuantity(productId, change, size = null) {
const itemIndex = cart.findIndex(item =>
item.id === productId &&
(item.size || null) === (size || null)
);
if (itemIndex === -1) return;
cart[itemIndex].quantity += change;
if (cart[itemIndex].quantity <= 0) {
cart.splice(itemIndex, 1);
}
localStorage.setItem('cart', JSON.stringify(cart));
updateCartCount();
updateCartDisplay();
}

function removeFromCart(productId, size = null) {
const itemIndex = cart.findIndex(item =>
item.id === productId &&
(item.size || null) === (size || null)
);
if (itemIndex === -1) return;
const removedItem = cart.splice(itemIndex, 1)[0];
localStorage.setItem('cart', JSON.stringify(cart));
updateCartCount();
updateCartDisplay();
showNotification(`ØªÙ… Ø­Ø°Ù ${removedItem.name} Ù…Ù† Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª`);
}

function addToCartWithQuantity(productId, quantity, size = null) {
const product = products.find(p => p.id === productId);
if (!product) return;
const existingItemIndex = cart.findIndex(item =>
item.id === productId &&
(item.size || null) === (size || null)
);
if (existingItemIndex !== -1) {
cart[existingItemIndex].quantity += quantity;
} else {
cart.push({
id: product.id,
name: product.name,
price: product.price,
image: product.image,
quantity: quantity,
size: size
});
}
localStorage.setItem('cart', JSON.stringify(cart));
updateCartCount();
updateCartDisplay();
showNotification(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${product.name} (${quantity} Ù‚Ø·Ø¹${size ? ` - Ø§Ù„Ù…Ù‚Ø§Ø³: ${size}` : ''}) Ø¥Ù„Ù‰ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª`);
}

function buyNowWithQuantity(productId, quantity, size = null) {
const product = products.find(p => p.id === productId);
if (!product) return;
const productWithQuantity = {
...product,
quantity: quantity,
selectedSize: size
};
showCheckoutForm(productWithQuantity, false);
}

document.getElementById('main-logo').addEventListener('click', function(e) {
e.preventDefault();
activeCategory = "Ø§Ù„ÙƒÙ„";
displayProducts(products);
document.querySelectorAll('.category-sidebar-item').forEach(item => {
item.classList.toggle('active', item.getAttribute('data-category') === "Ø§Ù„ÙƒÙ„");
});
setTimeout(() => document.getElementById('home').scrollIntoView({ behavior: 'smooth' }), 50);
});

</script>
</body>
</html>